var me=Object.defineProperty,ve=Object.defineProperties;var ye=Object.getOwnPropertyDescriptors;var re=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;var le=(d,v,h)=>v in d?me(d,v,{enumerable:!0,configurable:!0,writable:!0,value:h}):d[v]=h,se=(d,v)=>{for(var h in v||(v={}))ge.call(v,h)&&le(d,h,v[h]);if(re)for(var h of re(v))be.call(v,h)&&le(d,h,v[h]);return d},ie=(d,v)=>ve(d,ye(v));import{E as _e,R as ke,c as we,e as Ce,a as je,g as Se,i as Oe,b as xe,d as Pe,f as Te,h as Ve,m as Ne,o as Re,p as Ee,r as Be,j as De,k as K,s as Ae,l as Fe,n as Me,q as Ue,t as He,u as ze,v as Ie,w as $e,x as ae,y as qe,z as Le,A as Ke,B as Ge,C as Ye,D as Qe,F as We,G as Je,H as Ze,I as Xe,K as et,S as tt,J as ot,T as at,L as nt,M as rt,N as lt,O as st,P as it,Q as ce,U as $,V as W,W as J,X as ue,Y as ct,Z as ut,_ as dt,$ as pt,a0 as ft,a1 as G,a2 as p,a3 as ht,a4 as de,a5 as mt,a6 as vt,a7 as yt,a8 as gt,a9 as bt,aa as _t,ab as kt,ac as wt,ad as Ct,ae as jt,af as St,ag as Ot,ah as xt,ai as Pt,aj as Tt,ak as Vt,al as Nt,am as Rt,an as Et,ao as Bt,ap as Dt,aq as At,ar as Ft,as as pe,at as Mt,au as Ut,av as Ht,aw as zt,ax as It,ay as F,az as $t,aA as qt,aB as Lt,aC as Kt,aD as Gt,aE as Yt,aF as Qt,aG as P,aH as Wt,aI as Jt,aJ as Zt,aK as Xt,aL as eo,aM as to,aN as oo,aO as ao,aP as no,aQ as ro,aR as lo,aS as so,aT as io,aU as co,aV as uo,aW as po,aX as fo,aY as ho,aZ as mo,a_ as vo,a$ as yo,b0 as go,b1 as m,b2 as bo,b3 as _o,b4 as ko,b5 as wo,b6 as Co,b7 as jo,b8 as So,b9 as Oo,ba as xo,bb as Po,bc as To,bd as Vo,be as No,bf as Ro,bg as Eo,bh as Bo,bi as Do,bj as Ao,bk as Fo,bl as Mo,bm as Uo,bn as Ho,bo as zo,bp as Io}from"./index.8de0b572.js";const $o=()=>{};var qo=Object.freeze(Object.defineProperty({__proto__:null,compile:$o,EffectScope:_e,ReactiveEffect:ke,customRef:we,effect:Ce,effectScope:je,getCurrentScope:Se,isProxy:Oe,isReactive:xe,isReadonly:Pe,isRef:Te,isShallow:Ve,markRaw:Ne,onScopeDispose:Re,proxyRefs:Ee,reactive:Be,readonly:De,ref:K,shallowReactive:Ae,shallowReadonly:Fe,shallowRef:Me,stop:Ue,toRaw:He,toRef:ze,toRefs:Ie,triggerRef:$e,unref:ae,camelize:qe,capitalize:Le,normalizeClass:Ke,normalizeProps:Ge,normalizeStyle:Ye,toDisplayString:Qe,toHandlerKey:We,BaseTransition:Je,Comment:Ze,Fragment:Xe,KeepAlive:et,Static:tt,Suspense:ot,Teleport:at,Text:nt,callWithAsyncErrorHandling:rt,callWithErrorHandling:lt,cloneVNode:st,compatUtils:it,computed:ce,createBlock:$,createCommentVNode:W,createElementBlock:J,createElementVNode:ue,createHydrationRenderer:ct,createPropsRestProxy:ut,createRenderer:dt,createSlots:pt,createStaticVNode:ft,createTextVNode:G,createVNode:p,defineAsyncComponent:ht,defineComponent:de,defineEmits:mt,defineExpose:vt,defineProps:yt,get devtools(){return gt},getCurrentInstance:bt,getTransitionRawChildren:_t,guardReactiveProps:kt,h:wt,handleError:Ct,initCustomFormatter:jt,inject:St,isMemoSame:Ot,isRuntimeOnly:xt,isVNode:Pt,mergeDefaults:Tt,mergeProps:Vt,nextTick:Nt,onActivated:Rt,onBeforeMount:Et,onBeforeUnmount:Bt,onBeforeUpdate:Dt,onDeactivated:At,onErrorCaptured:Ft,onMounted:pe,onRenderTracked:Mt,onRenderTriggered:Ut,onServerPrefetch:Ht,onUnmounted:zt,onUpdated:It,openBlock:F,popScopeId:$t,provide:qt,pushScopeId:Lt,queuePostFlushCb:Kt,registerRuntimeCompiler:Gt,renderList:Yt,renderSlot:Qt,resolveComponent:P,resolveDirective:Wt,resolveDynamicComponent:Jt,resolveFilter:Zt,resolveTransitionHooks:Xt,setBlockTracking:eo,setDevtoolsHook:to,setTransitionHooks:oo,ssrContextKey:ao,ssrUtils:no,toHandlers:ro,transformVNodeArgs:lo,useAttrs:so,useSSRContext:io,useSlots:co,useTransitionState:uo,version:po,warn:fo,watch:ho,watchEffect:mo,watchPostEffect:vo,watchSyncEffect:yo,withAsyncContext:go,withCtx:m,withDefaults:bo,withDirectives:_o,withMemo:ko,withScopeId:wo,Transition:Co,TransitionGroup:jo,VueElement:So,createApp:Oo,createSSRApp:xo,defineCustomElement:Po,defineSSRCustomElement:To,hydrate:Vo,initDirectivesForSSR:No,render:Ro,useCssModule:Eo,useCssVars:Bo,vModelCheckbox:Do,vModelDynamic:Ao,vModelRadio:Fo,vModelSelect:Mo,vModelText:Uo,vShow:Ho,withKeys:zo,withModifiers:Io},Symbol.toStringTag,{value:"Module"})),Lo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ko(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function Go(d){if(d.__esModule)return d;var v=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(d).forEach(function(h){var M=Object.getOwnPropertyDescriptor(d,h);Object.defineProperty(v,h,M.get?M:{enumerable:!0,get:function(){return d[h]}})}),v}var fe={exports:{}},Yo=Go(qo);(function(d,v){(function(h,M){d.exports=M(Yo)})(Lo,function(h){return function(){var M={789:function(a){a.exports=h}},U={};function b(a){var c=U[a];if(c!==void 0)return c.exports;var T=U[a]={exports:{}};return M[a](T,T.exports,b),T.exports}b.d=function(a,c){for(var T in c)b.o(c,T)&&!b.o(a,T)&&Object.defineProperty(a,T,{enumerable:!0,get:c[T]})},b.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},b.r=function(a){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var E={};return function(){b.r(E),b.d(E,{default:function(){return oe}});var a=b(789);function c(e,o){(o==null||o>e.length)&&(o=e.length);for(var t=0,n=new Array(o);t<o;t++)n[t]=e[t];return n}function T(e,o){if(e){if(typeof e=="string")return c(e,o);var t=Object.prototype.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,o):void 0}}function Y(e,o){return function(t){if(Array.isArray(t))return t}(e)||function(t,n){var s=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var k,g,j=[],w=!0,r=!1;try{for(s=s.call(t);!(w=(k=s.next()).done)&&(j.push(k.value),!n||j.length!==n);w=!0);}catch(l){r=!0,g=l}finally{try{w||s.return==null||s.return()}finally{if(r)throw g}}return j}}(e,o)||T(e,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Z(e){return function(o){if(Array.isArray(o))return c(o)}(e)||function(o){if(typeof Symbol!="undefined"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}(e)||T(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var u=(0,a.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var e=this.data,o=this.onClick;return(0,a.createVNode)("span",{class:"vjs-tree__brackets",onClick:o},[e])}}),N=(0,a.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(e,o){var t=o.emit;return{uiType:(0,a.computed)(function(){return e.isMultiple?"checkbox":"radio"}),model:(0,a.computed)({get:function(){return e.checked},set:function(n){return t("update:modelValue",n)}})}},render:function(){var e=this.uiType,o=this.model,t=this.$emit;return(0,a.createVNode)("label",{class:["vjs-check-controller",o?"is-checked":""],onClick:function(n){return n.stopPropagation()}},[(0,a.createVNode)("span",{class:"vjs-check-controller__inner is-".concat(e)},null),(0,a.createVNode)("input",{checked:o,class:"vjs-check-controller__original is-".concat(e),type:e,onChange:function(){return t("change",o)}},null)])}});function B(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,n)}return t}function z(e){for(var o=1;o<arguments.length;o++){var t=arguments[o]!=null?arguments[o]:{};o%2?B(Object(t),!0).forEach(function(n){_(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):B(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function q(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function R(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,s=n||{},k=s.key,g=s.index,j=s.type,w=j===void 0?"content":j,r=s.showComma,l=r!==void 0&&r,i=s.length,f=i===void 0?1:i,y=q(e);if(y==="array"){var S=e.map(function(C,x,A){return R(C,"".concat(o,"[").concat(x,"]"),t+1,{index:x,showComma:x!==A.length-1,length:f,type:w})}).reduce(function(C,x){return C.concat(x)},[]);return[R("[",o,t,{showComma:!1,key:k,length:e.length,type:"arrayStart"})[0]].concat(S,R("]",o,t,{showComma:l,length:e.length,type:"arrayEnd"})[0])}if(y==="object"){var V=Object.keys(e),H=V.map(function(C,x,A){return R(e[C],C.includes(".")?"".concat(o,'["').concat(C,'"]'):"".concat(o,".").concat(C),t+1,{key:C,showComma:x!==A.length-1,length:f,type:w})}).reduce(function(C,x){return C.concat(x)},[]);return[R("{",o,t,{showComma:!1,key:k,index:g,length:V.length,type:"objectStart"})[0]].concat(H,R("}",o,t,{showComma:l,length:V.length,type:"objectEnd"})[0])}var L=Object.entries({content:e,level:t,key:k,index:g,path:o,showComma:l,length:f,type:w}).reduce(function(C,x){var A=Y(x,2),he=A[0],ne=A[1];return ne!==void 0?z(z({},C),{},_({},he,ne)):C},{});return[L]}function I(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,n)}return t}function D(e){for(var o=1;o<arguments.length;o++){var t=arguments[o]!=null?arguments[o]:{};o%2?I(Object(t),!0).forEach(function(n){_(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var X={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},customValueFormatter:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},selectOnClickNode:{type:Boolean,default:!0},collapsedOnClickBrackets:{type:Boolean,default:!0},pathSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0}},ee=(0,a.defineComponent)({name:"TreeNode",props:D(D({},X),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,onTreeNodeClick:{type:Function},onBracketsClick:{type:Function},onSelectedChange:{type:Function}}),setup:function(e,o){var t=o.emit,n=(0,a.computed)(function(){return q(e.node.content)}),s=(0,a.computed)(function(){return"vjs-value vjs-value__".concat(n.value)}),k=(0,a.computed)(function(){return e.showDoubleQuotes?'"'.concat(e.node.key,'"'):e.node.key}),g=(0,a.computed)(function(){return e.selectableType==="multiple"}),j=(0,a.computed)(function(){return e.selectableType==="single"}),w=(0,a.computed)(function(){return e.pathSelectable(e.node.path,e.node.content)&&(g.value||j.value)}),r=function(i){var f=i+"";return n.value==="string"&&(f='"'.concat(f,'"')),f},l=e.customValueFormatter?function(i){var f;return(f=e.customValueFormatter)===null||f===void 0?void 0:f.call(e,i,e.node.key,e.node.path,r(i))}:null;return{state:(0,a.reactive)({valueClass:s,prettyKey:k,isMultiple:g,selectable:w}),defaultFormatter:r,customFormatter:l,onBracketsClickHandler:function(){e.collapsedOnClickBrackets&&t("brackets-click",!e.collapsed,e.node.path)},onCheckedChange:function(){t("selected-change",e.node)},onNodeClick:function(){t("tree-node-click",e.node),w.value&&e.selectOnClickNode&&t("selected-change",e.node)}}},render:function(){var e=this.state,o=this.node,t=this.showSelectController,n=this.highlightSelectedNode,s=this.checked,k=this.showLength,g=this.collapsed,j=this.showLine,w=this.defaultFormatter,r=this.customFormatter,l=this.onNodeClick,i=this.onCheckedChange,f=this.onBracketsClickHandler;return(0,a.createVNode)("div",{class:{"vjs-tree__node":!0,"has-selector":t,"is-highlight":n&&s},onClick:l},[t&&e.selectable&&o.type!=="objectEnd"&&o.type!=="arrayEnd"&&(0,a.createVNode)(N,{isMultiple:e.isMultiple,checked:s,onChange:i},null),Array.from(Array(o.level)).map(function(y,S){return(0,a.createVNode)("div",{key:S,class:{"vjs-tree__indent":!0,"has-line":j}},null)}),o.key&&(0,a.createVNode)("span",{class:"vjs-key"},["".concat(e.prettyKey,": ")]),(0,a.createVNode)("span",null,[o.type!=="content"?(0,a.createVNode)(u,{data:o.content,onClick:f},null):r?(0,a.createVNode)("span",{class:e.valueClass,innerHTML:r(o.content)},null):(0,a.createVNode)("span",{class:e.valueClass},[w(o.content)]),o.showComma&&(0,a.createVNode)("span",null,[","]),k&&g&&(0,a.createVNode)("span",{class:"vjs-comment"},[(0,a.createTextVNode)(" // "),o.length,(0,a.createTextVNode)(" items ")])])])}});function Q(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,n)}return t}function O(e){for(var o=1;o<arguments.length;o++){var t=arguments[o]!=null?arguments[o]:{};o%2?Q(Object(t),!0).forEach(function(n){_(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var te=(0,a.defineComponent)({name:"Tree",props:O(O({},X),{},{data:{type:Object,default:null},deep:{type:Number,default:1/0},deepCollapseChildren:{type:Boolean,default:!1},collapsePath:{type:RegExp,default:null},path:{type:String,default:"root"},virtual:{type:Boolean,default:!1},virtualLines:{type:Number,default:10},itemHeight:{type:Number,default:20},modelValue:{type:[String,Array],default:function(){return""}}}),emits:["click","change","update:modelValue"],setup:function(e,o){var t=o.emit,n=(0,a.ref)(),s=(0,a.reactive)({translateY:0,visibleData:null,hiddenPaths:R(e.data,e.path).reduce(function(r,l){var i=e.deepCollapseChildren?l.level>=e.deep:l.level===e.deep,f=i||e.collapsePath&&e.collapsePath.test(l.path);return l.type!=="objectStart"&&l.type!=="arrayStart"||!i&&!f?r:O(O({},r),{},_({},l.path,1))},{})}),k=(0,a.computed)(function(){var r=null;return R(e.data,e.path).reduce(function(l,i,f){var y=O(O({},i),{},{id:f}),S=s.hiddenPaths[y.path];if(r&&r.path===y.path){var V=r.type==="objectStart",H=O(O(O({},r),y),{},{content:V?"{...}":"[...]",type:V?"objectCollapsed":"arrayCollapsed"});return r=null,l.concat(H)}return S&&!r?(r=y,l):r?l:l.concat(y)},[])}),g=(0,a.computed)(function(){var r=e.modelValue;return r&&e.selectableType==="multiple"&&Array.isArray(r)?r:[r]}),j=(0,a.computed)(function(){return!e.selectableType||e.selectOnClickNode||e.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),w=function(r){if(e.virtual){var l=n.value,i=e.virtualLines,f=l&&l.scrollTop||0,y=Math.floor(f/e.itemHeight),S=y<0?0:y+i>r.length?r.length-i:y;S<0&&(S=0);var V=S+i;s.translateY=S*e.itemHeight,s.visibleData=r.filter(function(H,L){return L>=S&&L<V})}else s.visibleData=r};return(0,a.watchEffect)(function(){j.value&&function(r){throw new Error("[VueJSONPretty] ".concat(r))}(j.value)}),(0,a.watchEffect)(function(){k.value&&w(k.value)}),{tree:n,state:s,flatData:k,selectedPaths:g,onTreeScroll:function(){w(k.value)},onSelectedChange:function(r){var l=r.path,i=e.selectableType;if(i==="multiple"){var f=g.value.findIndex(function(H){return H===l}),y=Z(g.value);f!==-1?y.splice(f,1):y.push(l),t("update:modelValue",y),t("change",y,Z(g.value))}else if(i==="single"&&g.value[0]!==l){var S=Y(g.value,1)[0],V=l;t("update:modelValue",V),t("change",V,S)}},onTreeNodeClick:function(r){var l=r.content,i=r.path;t("click",i,l)},onBracketsClick:function(r,l){if(r)s.hiddenPaths=O(O({},s.hiddenPaths),{},_({},l,1));else{var i=O({},s.hiddenPaths);delete i[l],s.hiddenPaths=i}}}},render:function(){var e=this.virtual,o=this.itemHeight,t=this.customValueFormatter,n=this.showDoubleQuotes,s=this.showLength,k=this.showLine,g=this.showSelectController,j=this.selectOnClickNode,w=this.pathSelectable,r=this.highlightSelectedNode,l=this.collapsedOnClickBrackets,i=this.state,f=this.flatData,y=this.selectedPaths,S=this.selectableType,V=this.onTreeNodeClick,H=this.onBracketsClick,L=this.onSelectedChange,C=this.onTreeScroll,x=i.visibleData&&i.visibleData.map(function(A){return(0,a.createVNode)(ee,{key:A.id,node:A,collapsed:!!i.hiddenPaths[A.path],"custom-value-formatter":t,"show-double-quotes":n,"show-length":s,"collapsed-on-click-brackets":l,checked:y.includes(A.path),"selectable-type":S,"show-line":k,"show-select-controller":g,"select-on-click-node":j,"path-selectable":w,"highlight-selected-node":r,onTreeNodeClick:V,onBracketsClick:H,onSelectedChange:L},null)});return(0,a.createVNode)("div",{ref:"tree",class:{"vjs-tree":!0,"is-virtual":e},onScroll:C},[e?(0,a.createVNode)("div",{style:{height:"".concat(f.length*o,"px")}},[(0,a.createVNode)("div",{style:{transform:"translateY(".concat(i.translateY,"px)")}},[x])]):x])}}),oe=(0,a.defineComponent)(te)}(),E}()})})(fe);var Qo=Ko(fe.exports);const Wo={__name:"DataTree",props:{data:{type:Object,default:()=>null}},setup(d){return(v,h)=>(F(),J("div",null,[p(ae(Qo),{class:"json-container","deep-collapse-children":!0,deep:3,path:"res",data:d.data},null,8,["data"])]))}};const Jo={class:"outer-container"},Zo={class:"request-body-form"},Xo={key:1},ea=G(" Auth Token "),ta=G(" figma\u6388\u6743 "),oa=G("\u83B7\u53D6\u6570\u636E"),aa=G("\u91CD\u65B0\u6388\u6743"),na=G("\u5982\u4F55\u83B7\u53D6"),ra=["src"],ia=de({__name:"index",setup(d){const v=_=>Object.keys(_).map(u=>`${encodeURIComponent(u)}=${encodeURIComponent(_[u])}`).join("&"),h="https://pengyyyyy.github.io/figma-api-live/#/figma",M=K(),U=K(!1),b=K(localStorage.getItem("figmaAuthToken"));pe(async()=>{const _=window.location.search.substring(1).split("&"),u=Object.create(null);for(let N=0;N<_.length;N++){const B=_[N].split("=");B[0]&&(u[B[0]]=B[1]?B[1]:"")}if(u.code&&!b.value){const{state:N,code:B}=u;if(localStorage.getItem("figmaAuthState")!==N)return;U.value=!0;const q=await fetch(`https://figma-api-server-pengyyyyy.vercel.app/figma/auth?${v({code:B,redirectUri:h})}`);U.value=!1;const R=await q.json();b.value=R.data.access_token,localStorage.setItem("figmaAuthToken",b.value)}});const E=K(1),a=ce(()=>({token:[{required:E.value!==1,message:"\u8BF7\u8F93\u5165AccessToken"}],fileUrl:[{required:!0,message:"\u8BF7\u8F93\u5165fileUrl"}],ids:[{required:!0,message:"\u8BF7\u8F93\u5165"}]})),c=K({token:"",fileUrl:"",depth:0,havePath:!1,isNodes:!1,ids:""}),T=async({validateResult:_})=>{if(_!==!0)return;U.value=!0;const N=await(await fetch(`https://figma-api-server-pengyyyyy.vercel.app/figma/file?${v(ie(se({},c.value),{authToken:b.value,type:E.value===1?"authToken":"personalToken"}))}`)).json();U.value=!1,M.value=N.data},Y=(_="")=>{_==="reAuth"&&(localStorage.removeItem("figmaAuthToken"),b.value="");const u=`${Date.now()}`;localStorage.setItem("figmaAuthState",u),window.location.href=`https://www.figma.com/oauth?client_id=Hn8ZQBrB9AOZaGqPTRZ1w9&redirect_uri=${encodeURIComponent(h)}&scope=file_read&state=${u}&response_type=code`},Z=()=>{window.open("https://www.figma.com/developers/api#access-tokens")};return(_,u)=>{const N=P("t-tab-panel"),B=P("t-tabs"),z=P("t-input"),q=P("t-tag"),R=P("t-tooltip"),I=P("t-button"),D=P("t-form-item"),X=P("t-input-number"),ee=P("t-switch"),Q=P("t-col"),O=P("t-row"),te=P("t-form"),oe=P("t-loading");return F(),J("div",Jo,[ue("div",Zo,[p(B,{modelValue:E.value,"onUpdate:modelValue":u[0]||(u[0]=e=>E.value=e)},{default:m(()=>[p(N,{value:1,label:"Auth"}),p(N,{value:2,label:"AccessToken"})]),_:1},8,["modelValue"]),p(te,{ref:"form",class:"panel-inner",data:c.value,rules:ae(a),"label-width":"90px",colon:!0,onSubmit:T},{default:m(()=>{var e,o;return[p(D,{label:"Token",name:"token"},{default:m(()=>[E.value===2?(F(),$(z,{key:0,modelValue:c.value.token,"onUpdate:modelValue":u[1]||(u[1]=t=>c.value.token=t),placeholder:"\u8BF7\u8F93\u5165 Access Tokens"},null,8,["modelValue"])):(F(),J("span",Xo,[b.value?(F(),$(R,{key:0,content:b.value,placement:"right","overlay-style":{width:"250px"},"show-arrow":""},{default:m(()=>[p(q,{theme:"primary",variant:"light"},{default:m(()=>[ea]),_:1})]),_:1},8,["content"])):(F(),$(I,{key:1,theme:"primary",type:"button",loading:U.value,onClick:Y},{default:m(()=>[ta]),_:1},8,["loading"]))]))]),_:1}),p(D,{label:"\u6587\u4EF6\u94FE\u63A5",name:"fileUrl"},{default:m(()=>[p(z,{modelValue:c.value.fileUrl,"onUpdate:modelValue":u[2]||(u[2]=t=>c.value.fileUrl=t),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),p(D,{label:"\u6570\u636E\u5C42\u7EA7",name:"depth"},{default:m(()=>[p(X,{modelValue:c.value.depth,"onUpdate:modelValue":u[3]||(u[3]=t=>c.value.depth=t),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),p(D,{"label-width":0},{default:m(()=>[p(O,{gutter:16,style:{width:"100%"}},{default:m(()=>[p(Q,{span:6},{default:m(()=>[p(D,{label:"\u83B7\u53D6path",name:"havePath"},{default:m(()=>[p(ee,{modelValue:c.value.havePath,"onUpdate:modelValue":u[4]||(u[4]=t=>c.value.havePath=t),size:"large",label:["\u5F00","\u5173"]},null,8,["modelValue"])]),_:1})]),_:1}),p(Q,{span:6},{default:m(()=>[p(D,{label:"\u53EA\u83B7\u53D6\u8282\u70B9",name:"isNodes"},{default:m(()=>[p(ee,{modelValue:c.value.isNodes,"onUpdate:modelValue":u[5]||(u[5]=t=>c.value.isNodes=t),size:"large",label:["\u5F00","\u5173"]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),c.value.isNodes?(F(),$(D,{key:0,label:"\u8FC7\u6EE4\u8282\u70B9",name:"ids"},{default:m(()=>[p(z,{modelValue:c.value.ids,"onUpdate:modelValue":u[6]||(u[6]=t=>c.value.ids=t),placeholder:"\u59820:3,0:1"},null,8,["modelValue"])]),_:1})):W("",!0),p(D,{style:{"padding-top":"8px"}},{default:m(()=>[p(I,{theme:"primary",type:"submit"},{default:m(()=>[oa]),_:1}),E.value===1?(F(),$(I,{key:0,theme:"warning",variant:"outline",type:"button",onClick:u[7]||(u[7]=t=>Y("reAuth"))},{default:m(()=>[aa]),_:1})):W("",!0),E.value===2?(F(),$(I,{key:1,theme:"warning",variant:"outline",type:"button",onClick:Z},{default:m(()=>[na]),_:1})):W("",!0)]),_:1}),((e=c.value)==null?void 0:e.fileUrl)&&((o=M.value)==null?void 0:o.thumbnailUrl)?(F(),J("iframe",{key:1,class:"figma-preview-container",src:`https://www.figma.com/embed?embed_host=share&url=${c.value.fileUrl} `,allowfullscreen:""},null,8,ra)):W("",!0)]}),_:1},8,["data","rules"])]),p(oe,{size:"small",loading:U.value,"show-overlay":""},{default:m(()=>[p(Wo,{data:M.value},null,8,["data"])]),_:1},8,["loading"])])}}});export{ia as default};
