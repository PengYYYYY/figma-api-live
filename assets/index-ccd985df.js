import{B as Te,C as Ve,E as Ne,F as xe,K as Ee,R as Ae,S as De,a as Be,T as Ie,b as Re,c as Ue,d as Me,V as Fe,e as $e,f as He,g as Le,h as Qe,i as qe,j as Ye,k as ze,l as ie,m as Ge,n as G,o as ee,p as te,q as K,r as Ke,s as We,t as Je,u as Ze,v as Xe,w as et,x as Q,y as v,z as tt,A as at,D as be,G as nt,H as ot,I as rt,J as lt,L as st,M as it,N as ut,O as ct,P as we,Q as _e,U as dt,W as pt,X as ft,Y as mt,Z as ht,_ as vt,$ as yt,a0 as gt,a1 as bt,a2 as wt,a3 as _t,a4 as kt,a5 as Ot,a6 as Ct,a7 as St,a8 as jt,a9 as Pt,aa as Tt,ab as Vt,ac as ke,ad as Nt,ae as xt,af as Et,ag as At,ah as Dt,ai as Bt,aj as It,ak as Rt,al as Ut,am as ue,an as Mt,ao as Ft,ap as Oe,aq as $t,ar as Ht,as as Lt,at as F,au as Qt,av as qt,aw as Yt,ax as zt,ay as Gt,az as Kt,aA as Ce,aB as $,aC as Wt,aD as Jt,aE as Zt,aF as Xt,aG as D,aH as ea,aI as ta,aJ as aa,aK as na,aL as oa,aM as ra,aN as la,aO as sa,aP as ia,aQ as ua,aR as ca,aS as da,aT as pa,aU as fa,aV as ma,aW as ha,aX as va,aY as ya,aZ as ga,a_ as ba,a$ as wa,b0 as ne,b1 as _a,b2 as ka,b3 as Oa,b4 as Ca,b5 as Sa,b6 as ja,b7 as Pa,b8 as Ta,b9 as Va,ba as Na,bb as xa,bc as Ea,bd as Aa,be as Da,bf as Se,bg as Ba,bh as Ia,bi as Ra,bj as Ua,bk as k,bl as Ma,bm as Fa,bn as $a,bo as Ha,bp as La,bq as Qa,br as de}from"./index-c044512f.js";const qa=()=>{},Ya=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Te,Comment:Ve,EffectScope:Ne,Fragment:xe,KeepAlive:Ee,ReactiveEffect:Ae,Static:De,Suspense:Be,Teleport:Ie,Text:Re,Transition:Ue,TransitionGroup:Me,VueElement:Fe,assertNumber:$e,callWithAsyncErrorHandling:He,callWithErrorHandling:Le,camelize:Qe,capitalize:qe,cloneVNode:Ye,compatUtils:ze,compile:qa,computed:ie,createApp:Ge,createBlock:G,createCommentVNode:ee,createElementBlock:te,createElementVNode:K,createHydrationRenderer:Ke,createPropsRestProxy:We,createRenderer:Je,createSSRApp:Ze,createSlots:Xe,createStaticVNode:et,createTextVNode:Q,createVNode:v,customRef:tt,defineAsyncComponent:at,defineComponent:be,defineCustomElement:nt,defineEmits:ot,defineExpose:rt,defineProps:lt,defineSSRCustomElement:st,get devtools(){return it},effect:ut,effectScope:ct,getCurrentInstance:we,getCurrentScope:_e,getTransitionRawChildren:dt,guardReactiveProps:pt,h:ft,handleError:mt,hydrate:ht,initCustomFormatter:vt,initDirectivesForSSR:yt,inject:gt,isMemoSame:bt,isProxy:wt,isReactive:_t,isReadonly:kt,isRef:Ot,isRuntimeOnly:Ct,isShallow:St,isVNode:jt,markRaw:Pt,mergeDefaults:Tt,mergeProps:Vt,nextTick:ke,normalizeClass:Nt,normalizeProps:xt,normalizeStyle:Et,onActivated:At,onBeforeMount:Dt,onBeforeUnmount:Bt,onBeforeUpdate:It,onDeactivated:Rt,onErrorCaptured:Ut,onMounted:ue,onRenderTracked:Mt,onRenderTriggered:Ft,onScopeDispose:Oe,onServerPrefetch:$t,onUnmounted:Ht,onUpdated:Lt,openBlock:F,popScopeId:Qt,provide:qt,proxyRefs:Yt,pushScopeId:zt,queuePostFlushCb:Gt,reactive:Kt,readonly:Ce,ref:$,registerRuntimeCompiler:Wt,render:Jt,renderList:Zt,renderSlot:Xt,resolveComponent:D,resolveDirective:ea,resolveDynamicComponent:ta,resolveFilter:aa,resolveTransitionHooks:na,setBlockTracking:oa,setDevtoolsHook:ra,setTransitionHooks:la,shallowReactive:sa,shallowReadonly:ia,shallowRef:ua,ssrContextKey:ca,ssrUtils:da,stop:pa,toDisplayString:fa,toHandlerKey:ma,toHandlers:ha,toRaw:va,toRef:ya,toRefs:ga,transformVNodeArgs:ba,triggerRef:wa,unref:ne,useAttrs:_a,useCssModule:ka,useCssVars:Oa,useSSRContext:Ca,useSlots:Sa,useTransitionState:ja,vModelCheckbox:Pa,vModelDynamic:Ta,vModelRadio:Va,vModelSelect:Na,vModelText:xa,vShow:Ea,version:Aa,warn:Da,watch:Se,watchEffect:Ba,watchPostEffect:Ia,watchSyncEffect:Ra,withAsyncContext:Ua,withCtx:k,withDefaults:Ma,withDirectives:Fa,withKeys:$a,withMemo:Ha,withModifiers:La,withScopeId:Qa},Symbol.toStringTag,{value:"Module"}));var pe;const oe=typeof window<"u",za=o=>typeof o=="string",Ga=()=>{};oe&&((pe=window==null?void 0:window.navigator)!=null&&pe.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function re(o){return typeof o=="function"?o():ne(o)}function Ka(o){return o}function je(o){return _e()?(Oe(o),!0):!1}function Wa(o,i=!0){we()?ue(o):i?o():ke(o)}function Ja(o,i,u={}){const{immediate:w=!0}=u,g=$(!1);let b=null;function V(){b&&(clearTimeout(b),b=null)}function n(){g.value=!1,V()}function y(...C){V(),g.value=!0,b=setTimeout(()=>{g.value=!1,b=null,o(...C)},re(i))}return w&&(g.value=!0,oe&&y()),je(n),{isPending:Ce(g),start:y,stop:n}}function Za(o){var i;const u=re(o);return(i=u==null?void 0:u.$el)!=null?i:u}const Xa=oe?window:void 0,en=oe?window.navigator:void 0;function tn(...o){let i,u,w,g;if(za(o[0])||Array.isArray(o[0])?([u,w,g]=o,i=Xa):[i,u,w,g]=o,!i)return Ga;Array.isArray(u)||(u=[u]),Array.isArray(w)||(w=[w]);const b=[],V=()=>{b.forEach(p=>p()),b.length=0},n=(p,U,x,H)=>(p.addEventListener(U,x,H),()=>p.removeEventListener(U,x,H)),y=Se(()=>[Za(i),re(g)],([p,U])=>{V(),p&&b.push(...u.flatMap(x=>w.map(H=>n(p,x,H,U))))},{immediate:!0,flush:"post"}),C=()=>{y(),V()};return je(C),C}function an(o,i=!1){const u=$(),w=()=>u.value=!!o();return w(),Wa(w,i),u}function nn(o={}){const{navigator:i=en,read:u=!1,source:w,copiedDuring:g=1500,legacy:b=!1}=o,V=["copy","cut"],n=an(()=>i&&"clipboard"in i),y=ie(()=>n.value||b),C=$(""),p=$(!1),U=Ja(()=>p.value=!1,g);function x(){n.value?i.clipboard.readText().then(f=>{C.value=f}):C.value=W()}if(y.value&&u)for(const f of V)tn(f,x);async function H(f=re(w)){y.value&&f!=null&&(n.value?await i.clipboard.writeText(f):Y(f),C.value=f,p.value=!0,U.start())}function Y(f){const r=document.createElement("textarea");r.value=f??"",r.style.position="absolute",r.style.opacity="0",document.body.appendChild(r),r.select(),document.execCommand("copy"),r.remove()}function W(){var f,r,_;return(_=(r=(f=document==null?void 0:document.getSelection)==null?void 0:f.call(document))==null?void 0:r.toString())!=null?_:""}return{isSupported:y,text:C,copied:p,copy:H}}const fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},me="__vueuse_ssr_handlers__";fe[me]=fe[me]||{};var he;(function(o){o.UP="UP",o.RIGHT="RIGHT",o.DOWN="DOWN",o.LEFT="LEFT",o.NONE="NONE"})(he||(he={}));var on=Object.defineProperty,ve=Object.getOwnPropertySymbols,rn=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable,ye=(o,i,u)=>i in o?on(o,i,{enumerable:!0,configurable:!0,writable:!0,value:u}):o[i]=u,sn=(o,i)=>{for(var u in i||(i={}))rn.call(i,u)&&ye(o,u,i[u]);if(ve)for(var u of ve(i))ln.call(i,u)&&ye(o,u,i[u]);return o};const un={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};sn({linear:Ka},un);var cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dn(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function pn(o){if(o.__esModule)return o;var i=o.default;if(typeof i=="function"){var u=function w(){if(this instanceof w){var g=[null];g.push.apply(g,arguments);var b=Function.bind.apply(i,g);return new b}return i.apply(this,arguments)};u.prototype=i.prototype}else u={};return Object.defineProperty(u,"__esModule",{value:!0}),Object.keys(o).forEach(function(w){var g=Object.getOwnPropertyDescriptor(o,w);Object.defineProperty(u,w,g.get?g:{enumerable:!0,get:function(){return o[w]}})}),u}var se={},fn={get exports(){return se},set exports(o){se=o}};const mn=pn(Ya);(function(o,i){(function(u,w){o.exports=w(mn)})(cn,function(u){return function(){var w={789:function(n){n.exports=u}},g={};function b(n){var y=g[n];if(y!==void 0)return y.exports;var C=g[n]={exports:{}};return w[n](C,C.exports,b),C.exports}b.d=function(n,y){for(var C in y)b.o(y,C)&&!b.o(n,C)&&Object.defineProperty(n,C,{enumerable:!0,get:y[C]})},b.o=function(n,y){return Object.prototype.hasOwnProperty.call(n,y)},b.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var V={};return function(){b.r(V),b.d(V,{default:function(){return ae}});var n=b(789);function y(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,l=new Array(t);a<t;a++)l[a]=e[a];return l}function C(e,t){if(e){if(typeof e=="string")return y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?y(e,t):void 0}}function p(e,t){return function(a){if(Array.isArray(a))return a}(e)||function(a,l){var c=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(c!=null){var j,P,m=[],N=!0,s=!1;try{for(c=c.call(a);!(N=(j=c.next()).done)&&(m.push(j.value),!l||m.length!==l);N=!0);}catch(d){s=!0,P=d}finally{try{N||c.return==null||c.return()}finally{if(s)throw P}}return m}}(e,t)||C(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function U(e){return function(t){if(Array.isArray(t))return y(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||C(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function x(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var H=(0,n.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var e=this.data,t=this.onClick;return(0,n.createVNode)("span",{class:"vjs-tree__brackets",onClick:t},[e])}}),Y=(0,n.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(e,t){var a=t.emit;return{uiType:(0,n.computed)(function(){return e.isMultiple?"checkbox":"radio"}),model:(0,n.computed)({get:function(){return e.checked},set:function(l){return a("update:modelValue",l)}})}},render:function(){var e=this.uiType,t=this.model,a=this.$emit;return(0,n.createVNode)("label",{class:["vjs-check-controller",t?"is-checked":""],onClick:function(l){return l.stopPropagation()}},[(0,n.createVNode)("span",{class:"vjs-check-controller__inner is-".concat(e)},null),(0,n.createVNode)("input",{checked:t,class:"vjs-check-controller__original is-".concat(e),type:e,onChange:function(){return a("change",t)}},null)])}});function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),a.push.apply(a,l)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?W(Object(a),!0).forEach(function(l){x(e,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(a,l))})}return e}function r(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function _(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3?arguments[3]:void 0,c=l||{},j=c.key,P=c.index,m=c.type,N=m===void 0?"content":m,s=c.showComma,d=s!==void 0&&s,h=c.length,O=h===void 0?1:h,T=r(e);if(T==="array"){var A=e.map(function(E,B,M){return _(E,"".concat(t,"[").concat(B,"]"),a+1,{index:B,showComma:B!==M.length-1,length:O,type:N})}).reduce(function(E,B){return E.concat(B)},[]);return[_("[",t,a,{showComma:!1,key:j,length:e.length,type:"arrayStart"})[0]].concat(A,_("]",t,a,{showComma:d,length:e.length,type:"arrayEnd"})[0])}if(T==="object"){var R=Object.keys(e),q=R.map(function(E,B,M){return _(e[E],E.includes(".")?"".concat(t,'["').concat(E,'"]'):"".concat(t,".").concat(E),a+1,{key:E,showComma:B!==M.length-1,length:O,type:N})}).reduce(function(E,B){return E.concat(B)},[]);return[_("{",t,a,{showComma:!1,key:j,index:P,length:R.length,type:"objectStart"})[0]].concat(q,_("}",t,a,{showComma:d,length:R.length,type:"objectEnd"})[0])}var Z=Object.entries({content:e,level:a,key:j,index:P,path:t,showComma:d,length:O,type:N}).reduce(function(E,B){var M=p(B,2),Pe=M[0],ce=M[1];return ce!==void 0?f(f({},E),{},x({},Pe,ce)):E},{});return[Z]}function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),a.push.apply(a,l)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?I(Object(a),!0).forEach(function(l){x(e,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(a,l))})}return e}var J={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},customValueFormatter:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},selectOnClickNode:{type:Boolean,default:!0},collapsedOnClickBrackets:{type:Boolean,default:!0},pathSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0}},X=(0,n.defineComponent)({name:"TreeNode",props:z(z({},J),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,onTreeNodeClick:{type:Function},onBracketsClick:{type:Function},onSelectedChange:{type:Function}}),setup:function(e,t){var a=t.emit,l=(0,n.computed)(function(){return r(e.node.content)}),c=(0,n.computed)(function(){return"vjs-value vjs-value__".concat(l.value)}),j=(0,n.computed)(function(){return e.showDoubleQuotes?'"'.concat(e.node.key,'"'):e.node.key}),P=(0,n.computed)(function(){return e.selectableType==="multiple"}),m=(0,n.computed)(function(){return e.selectableType==="single"}),N=(0,n.computed)(function(){return e.pathSelectable(e.node.path,e.node.content)&&(P.value||m.value)}),s=function(h){var O=h+"";return l.value==="string"&&(O='"'.concat(O,'"')),O},d=e.customValueFormatter?function(h){var O;return(O=e.customValueFormatter)===null||O===void 0?void 0:O.call(e,h,e.node.key,e.node.path,s(h))}:null;return{state:(0,n.reactive)({valueClass:c,prettyKey:j,isMultiple:P,selectable:N}),defaultFormatter:s,customFormatter:d,onBracketsClickHandler:function(){e.collapsedOnClickBrackets&&a("brackets-click",!e.collapsed,e.node.path)},onCheckedChange:function(){a("selected-change",e.node)},onNodeClick:function(){a("tree-node-click",e.node),N.value&&e.selectOnClickNode&&a("selected-change",e.node)}}},render:function(){var e=this.state,t=this.node,a=this.showSelectController,l=this.highlightSelectedNode,c=this.checked,j=this.showLength,P=this.collapsed,m=this.showLine,N=this.defaultFormatter,s=this.customFormatter,d=this.onNodeClick,h=this.onCheckedChange,O=this.onBracketsClickHandler;return(0,n.createVNode)("div",{class:{"vjs-tree__node":!0,"has-selector":a,"is-highlight":l&&c},onClick:d},[a&&e.selectable&&t.type!=="objectEnd"&&t.type!=="arrayEnd"&&(0,n.createVNode)(Y,{isMultiple:e.isMultiple,checked:c,onChange:h},null),Array.from(Array(t.level)).map(function(T,A){return(0,n.createVNode)("div",{key:A,class:{"vjs-tree__indent":!0,"has-line":m}},null)}),t.key&&(0,n.createVNode)("span",{class:"vjs-key"},["".concat(e.prettyKey,": ")]),(0,n.createVNode)("span",null,[t.type!=="content"?(0,n.createVNode)(H,{data:t.content,onClick:O},null):s?(0,n.createVNode)("span",{class:e.valueClass,innerHTML:s(t.content)},null):(0,n.createVNode)("span",{class:e.valueClass},[N(t.content)]),t.showComma&&(0,n.createVNode)("span",null,[","]),j&&P&&(0,n.createVNode)("span",{class:"vjs-comment"},[(0,n.createTextVNode)(" // "),t.length,(0,n.createTextVNode)(" items ")])])])}});function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),a.push.apply(a,l)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?L(Object(a),!0).forEach(function(l){x(e,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(a,l))})}return e}var le=(0,n.defineComponent)({name:"Tree",props:S(S({},J),{},{data:{type:Object,default:null},deep:{type:Number,default:1/0},deepCollapseChildren:{type:Boolean,default:!1},collapsePath:{type:RegExp,default:null},path:{type:String,default:"root"},virtual:{type:Boolean,default:!1},virtualLines:{type:Number,default:10},itemHeight:{type:Number,default:20},modelValue:{type:[String,Array],default:function(){return""}}}),emits:["click","change","update:modelValue"],setup:function(e,t){var a=t.emit,l=(0,n.ref)(),c=(0,n.reactive)({translateY:0,visibleData:null,hiddenPaths:_(e.data,e.path).reduce(function(s,d){var h=e.deepCollapseChildren?d.level>=e.deep:d.level===e.deep,O=h||e.collapsePath&&e.collapsePath.test(d.path);return d.type!=="objectStart"&&d.type!=="arrayStart"||!h&&!O?s:S(S({},s),{},x({},d.path,1))},{})}),j=(0,n.computed)(function(){var s=null;return _(e.data,e.path).reduce(function(d,h,O){var T=S(S({},h),{},{id:O}),A=c.hiddenPaths[T.path];if(s&&s.path===T.path){var R=s.type==="objectStart",q=S(S(S({},s),T),{},{content:R?"{...}":"[...]",type:R?"objectCollapsed":"arrayCollapsed"});return s=null,d.concat(q)}return A&&!s?(s=T,d):s?d:d.concat(T)},[])}),P=(0,n.computed)(function(){var s=e.modelValue;return s&&e.selectableType==="multiple"&&Array.isArray(s)?s:[s]}),m=(0,n.computed)(function(){return!e.selectableType||e.selectOnClickNode||e.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),N=function(s){if(e.virtual){var d=l.value,h=e.virtualLines,O=d&&d.scrollTop||0,T=Math.floor(O/e.itemHeight),A=T<0?0:T+h>s.length?s.length-h:T;A<0&&(A=0);var R=A+h;c.translateY=A*e.itemHeight,c.visibleData=s.filter(function(q,Z){return Z>=A&&Z<R})}else c.visibleData=s};return(0,n.watchEffect)(function(){m.value&&function(s){throw new Error("[VueJSONPretty] ".concat(s))}(m.value)}),(0,n.watchEffect)(function(){j.value&&N(j.value)}),{tree:l,state:c,flatData:j,selectedPaths:P,onTreeScroll:function(){N(j.value)},onSelectedChange:function(s){var d=s.path,h=e.selectableType;if(h==="multiple"){var O=P.value.findIndex(function(q){return q===d}),T=U(P.value);O!==-1?T.splice(O,1):T.push(d),a("update:modelValue",T),a("change",T,U(P.value))}else if(h==="single"&&P.value[0]!==d){var A=p(P.value,1)[0],R=d;a("update:modelValue",R),a("change",R,A)}},onTreeNodeClick:function(s){var d=s.content,h=s.path;a("click",h,d)},onBracketsClick:function(s,d){if(s)c.hiddenPaths=S(S({},c.hiddenPaths),{},x({},d,1));else{var h=S({},c.hiddenPaths);delete h[d],c.hiddenPaths=h}}}},render:function(){var e=this.virtual,t=this.itemHeight,a=this.customValueFormatter,l=this.showDoubleQuotes,c=this.showLength,j=this.showLine,P=this.showSelectController,m=this.selectOnClickNode,N=this.pathSelectable,s=this.highlightSelectedNode,d=this.collapsedOnClickBrackets,h=this.state,O=this.flatData,T=this.selectedPaths,A=this.selectableType,R=this.onTreeNodeClick,q=this.onBracketsClick,Z=this.onSelectedChange,E=this.onTreeScroll,B=h.visibleData&&h.visibleData.map(function(M){return(0,n.createVNode)(X,{key:M.id,node:M,collapsed:!!h.hiddenPaths[M.path],"custom-value-formatter":a,"show-double-quotes":l,"show-length":c,"collapsed-on-click-brackets":d,checked:T.includes(M.path),"selectable-type":A,"show-line":j,"show-select-controller":P,"select-on-click-node":m,"path-selectable":N,"highlight-selected-node":s,onTreeNodeClick:R,onBracketsClick:q,onSelectedChange:Z},null)});return(0,n.createVNode)("div",{ref:"tree",class:{"vjs-tree":!0,"is-virtual":e},onScroll:E},[e?(0,n.createVNode)("div",{style:{height:"".concat(O.length*t,"px")}},[(0,n.createVNode)("div",{style:{transform:"translateY(".concat(h.translateY,"px)")}},[B])]):B])}}),ae=(0,n.defineComponent)(le)}(),V}()})})(fn);const hn=dn(se);const vn={class:"json-container"},ge={__name:"DataTree",props:{data:{type:Object,default:()=>null}},setup(o){return(i,u)=>(F(),te("div",vn,[v(ne(hn),{"deep-collapse-children":!0,deep:3,path:"res",data:o.data},null,8,["data"])]))}},yn={class:"outer-container"},gn={class:"request-body-form"},bn={class:"header-bar"},wn=K("a",{class:"logo-container",href:"https://github.com/pengYYYYY",target:"_blank",rel:"noopener","data-v-a1054bee":"","data-v-e63c543b":""},[K("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[K("title",null,"PY GitHub"),K("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12",fill:"currentColor"})])],-1),_n={key:1},kn=["src"],Cn=be({__name:"index",setup(o){const i=f=>Object.keys(f).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(f[r])}`).join("&"),u="https://vercel-figma-api-server.vercel.app",w="https://pengyyyyy.github.io/figma-api-live/#/figma",g=$(null),b=$(null),V=$(!1),n=$(localStorage.getItem("figmaAuthToken"));ue(async()=>{const f=window.location.search.substring(1).split("&"),r=Object.create(null);for(let _=0;_<f.length;_++){const I=f[_].split("=");I[0]&&(r[I[0]]=I[1]?I[1]:"")}if(r.code&&!n.value){const{state:_,code:I}=r;if(localStorage.getItem("figmaAuthState")!==_)return;V.value=!0;const J=await fetch(`https://figma-api-server-pengyyyyy.vercel.app/figma/auth?${i({code:I,redirectUri:w})}`);V.value=!1;const X=await J.json();n.value=X.data.access_token,localStorage.setItem("figmaAuthToken",n.value)}});const y=$(1),C=ie(()=>({token:[{required:y.value!==1,message:"请输入AccessToken"}],fileUrl:[{required:!0,message:"请输入fileUrl"}],ids:[{required:!0,message:"请输入"}]})),p=$({token:"",fileUrl:"",depth:0,havePath:!0,isNodes:!1,ids:""}),U=async({validateResult:f})=>{if(f!==!0)return;V.value=!0;const r=await Promise.all([fetch(`${u}/figma/file?${i({...p.value,authToken:n.value,type:y.value===1?"authToken":"personalToken"})}`),fetch(`${u}/figma/images?${i({...p.value,authToken:n.value,type:y.value===1?"authToken":"personalToken"})}`)]),_=await r[0].json(),I=await r[1].json();V.value=!1,g.value=_.data,b.value=I.data.meta},x=(f="")=>{f==="reAuth"&&(localStorage.removeItem("figmaAuthToken"),n.value="");const r=`${Date.now()}`;localStorage.setItem("figmaAuthState",r),window.location.href=`https://www.figma.com/oauth?client_id=Hn8ZQBrB9AOZaGqPTRZ1w9&redirect_uri=${encodeURIComponent(w)}&scope=file_read&state=${r}&response_type=code`},{copy:H}=nn(),Y=f=>{var _;let r;if(f==="node"?r=g.value:f==="meta"?r=b.value:f==="first-frame"&&(r=(_=g.value.document.children[0])==null?void 0:_.children[0]),!r){de.error("暂无数据");return}H(JSON.stringify(r)),de.success("复制成功")},W=()=>{window.open("https://www.figma.com/developers/api#access-tokens")};return(f,r)=>{const _=D("t-tab-panel"),I=D("t-tabs"),z=D("t-input"),J=D("t-tag"),X=D("t-tooltip"),L=D("t-button"),S=D("t-form-item"),le=D("t-input-number"),ae=D("t-switch"),e=D("t-col"),t=D("t-row"),a=D("t-form"),l=D("t-divider"),c=D("t-loading");return F(),te("div",yn,[K("div",gn,[K("div",bn,[wn,v(I,{modelValue:y.value,"onUpdate:modelValue":r[0]||(r[0]=j=>y.value=j)},{default:k(()=>[v(_,{value:1,label:"Auth"}),v(_,{value:2,label:"AccessToken"})]),_:1},8,["modelValue"])]),v(a,{ref:"form",class:"panel-inner",data:p.value,rules:ne(C),"label-width":"90px",colon:!0,onSubmit:U},{default:k(()=>{var j,P;return[v(S,{label:"Token",name:"token"},{default:k(()=>[y.value===2?(F(),G(z,{key:0,modelValue:p.value.token,"onUpdate:modelValue":r[1]||(r[1]=m=>p.value.token=m),placeholder:"请输入 Access Tokens"},null,8,["modelValue"])):(F(),te("span",_n,[n.value?(F(),G(X,{key:0,content:n.value,placement:"right","overlay-style":{width:"250px"},"show-arrow":""},{default:k(()=>[v(J,{theme:"primary",variant:"light"},{default:k(()=>[Q(" Auth Token ")]),_:1})]),_:1},8,["content"])):(F(),G(L,{key:1,theme:"primary",type:"button",loading:V.value,onClick:x},{default:k(()=>[Q(" figma授权 ")]),_:1},8,["loading"]))]))]),_:1}),v(S,{label:"文件链接",name:"fileUrl"},{default:k(()=>[v(z,{modelValue:p.value.fileUrl,"onUpdate:modelValue":r[2]||(r[2]=m=>p.value.fileUrl=m),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),v(S,{label:"数据层级",name:"depth"},{default:k(()=>[v(le,{modelValue:p.value.depth,"onUpdate:modelValue":r[3]||(r[3]=m=>p.value.depth=m),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),v(S,{"label-width":0},{default:k(()=>[v(t,{gutter:16,style:{width:"100%"}},{default:k(()=>[v(e,{span:6},{default:k(()=>[v(S,{label:"获取path",name:"havePath"},{default:k(()=>[v(ae,{modelValue:p.value.havePath,"onUpdate:modelValue":r[4]||(r[4]=m=>p.value.havePath=m),size:"large",label:["开","关"]},null,8,["modelValue"])]),_:1})]),_:1}),v(e,{span:6},{default:k(()=>[v(S,{label:"只获取节点",name:"isNodes"},{default:k(()=>[v(ae,{modelValue:p.value.isNodes,"onUpdate:modelValue":r[5]||(r[5]=m=>p.value.isNodes=m),size:"large",label:["开","关"]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),p.value.isNodes?(F(),G(S,{key:0,label:"过滤节点",name:"ids"},{default:k(()=>[v(z,{modelValue:p.value.ids,"onUpdate:modelValue":r[6]||(r[6]=m=>p.value.ids=m),placeholder:"如0:3,0:1"},null,8,["modelValue"])]),_:1})):ee("",!0),v(S,{label:"数据拷贝"},{default:k(()=>[v(L,{disabled:!g.value,theme:"primary",variant:"outline",type:"button",onClick:r[7]||(r[7]=m=>Y("node"))},{default:k(()=>[Q(" 画布数据 ")]),_:1},8,["disabled"]),v(L,{disabled:!g.value,theme:"primary",variant:"outline",type:"button",onClick:r[8]||(r[8]=m=>Y("first-frame"))},{default:k(()=>[Q(" 首个画板 ")]),_:1},8,["disabled"]),v(L,{disabled:!b.value,theme:"primary",variant:"outline",type:"button",onClick:r[9]||(r[9]=m=>Y("img"))},{default:k(()=>[Q(" 资源数据 ")]),_:1},8,["disabled"])]),_:1}),v(S,null,{default:k(()=>[v(L,{theme:"primary",type:"submit"},{default:k(()=>[Q("获取数据")]),_:1}),y.value===1?(F(),G(L,{key:0,theme:"warning",variant:"outline",type:"button",onClick:r[10]||(r[10]=m=>x("reAuth"))},{default:k(()=>[Q("重新授权")]),_:1})):ee("",!0),y.value===2?(F(),G(L,{key:1,theme:"warning",variant:"outline",type:"button",onClick:W},{default:k(()=>[Q("如何获取")]),_:1})):ee("",!0)]),_:1}),(j=p.value)!=null&&j.fileUrl&&((P=g.value)!=null&&P.thumbnailUrl)?(F(),te("iframe",{key:1,class:"figma-preview-container",src:`https://www.figma.com/embed?embed_host=share&url=${p.value.fileUrl} `,allowfullscreen:""},null,8,kn)):ee("",!0)]}),_:1},8,["data","rules"])]),v(c,{size:"small",loading:V.value,"show-overlay":"",class:"loading-container"},{default:k(()=>[v(ge,{data:g.value},null,8,["data"]),v(l),v(ge,{data:b.value},null,8,["data"])]),_:1},8,["loading"])])}}});export{Cn as default};
